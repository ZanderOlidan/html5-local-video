<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.3/plyr.css" />
</head>

<body>
    <div class="upload">
        <label>Video <input type="file" id="video-upload"></label>   
        <label>Subtitle <input type="file" id="subtitle-upload"></label>
        <button id="ok">ok</button>
    </div>

    <video id="player" playsinline controls crossorigin>
        <!-- Captions are optional -->
        <track id="sub" kind="captions" label="English captions" srclang="en" default />
    </video>

    <script src="https://cdn.plyr.io/3.6.3/plyr.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/srt-webvtt@1.0.1/index.js"></script>

    <!-- <script type="module">
        import VTTConverter from 'srt-webvtt';

        (function localFileVideoPlayer() {
            const player = new Plyr('#player', { captions: { active: true }});
            const URL = window.URL || window.webkitURL

            const inputNode = document.getElementById('video-upload');
            const subNode = document.getElementById('subtitle-upload');
            const subTrack = document.getElementById('sub');

            const playSelectedFile = function (event) {
                var file = this.files[0];
                var videoNode = document.querySelector('video');

                var fileURL = URL.createObjectURL(file);
                videoNode.src = fileURL;
            }

            const useSubtitle = function (e) {

                const vttConverter = new VTTConverter(this.files[0]);
                vttConverter.getURL()
                    .then((url) => {

                        subTrack.src = url;
                    })
            }

            inputNode.addEventListener('change', playSelectedFile, false);
            subNode.addEventListener('change', useSubtitle, false);
        })()
    </script> -->
    <script type="module" src="script.js" inline="inline">
    </script>
</body>

</html>